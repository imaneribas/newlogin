<div class="container mt-4 mb-4">
  <h5>Registration</h5>
  <hr class="mb-4">
  <div class="login-container">
    <div class="alert alert-succes alert-dismissible fade show" role="alert" *ngIf="message!= null && message!= '' ">
      <strong>Holy guacamole!</strong> You should check in on some of those fields below.
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
      {{message}}
    </div>
      <div class="col-md-5">
  <form [formGroup]="userForm" (ngSubmit)="register()">
      <div class="form-group">
          <label for="userName">UserName</label>
          <input type="text" class="form-control" formControlName="userName" id="userName" placeholder="User Name" [ngClass]="{'is-invalid':!this.userForm.get('userName').valid &&this.userForm.get('userName').touched}" >
<div class="text-danger" *ngIf="!this.userForm.get('userName').valid &&this.userForm.get('userName').touched">
  {{messageValidate.userName.required}}</div>
  <div class="text-danger" *ngIf="isUserNameExist()">
    {{messageValidate.userName.matchuserName}}</div>

 </div>
      <div class="form-group">
        <label for="email">Email address</label>
        <input type="email" class="form-control" id="email" placeholder="Email" formControlName="email" [ngClass]="{'is-invalid':!this.userForm.get('email').valid && this.userForm.get('email').touched}">
        <div class="text-danger" *ngIf="!this.userForm.get('email').valid && this.userForm.get('email').touched">
          <div class="text-danger" *ngIf="!this.userForm.get('email').errors.required ">
            {{messageValidate.email.required}}
          </div>
          <div class="text-danger" *ngIf="!this.userForm.get('email').errors.email ">
            {{messageValidate.email.notValid}}
          </div>
        </div>
        <div class="text-danger" *ngIf="isEmailExist() ">
          {{messageValidate.email.matchEmail}}
        </div>

      </div>
      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" class="form-control" required minLength="6" id="password" placeholder="Password" formControlName="password" [ngClass]="{'is-invalid': !this.userForm.get('password').valid &&this.userForm.get('password').touched}">
        <div class="text-danger" *ngIf="this.userForm.get('password').invalid && (this.userForm.get('password').touched || this.userForm.get('password').dirty )">
          <div *ngIf="this.userForm.get('password').errors.required" >{{messageValidate.password.required}}</div>
          <div *ngIf="this.userForm.get('password').errors.minlength">{{messageValidate.password.minLength}}</div>
        </div>
        <div class="text-danger" *ngIf="!isPasswordValid()">{{messageValidate.password.notMatch}}</div>

      </div>
      <div class="form-group">
        <label for="passwordConfirm">Password confirm</label>
        <input type="password" class="form-control" required minLength="6" id="passwordConfirm" placeholder="passwordConfirm" formControlName="passwordConfirm" [ngClass]="{'is-invalid': !this.userForm.get('passwordConfirm').valid &&this.userForm.get('passwordConfirm').touched}">
        <div class="text-danger" *ngIf="this.userForm.get('passwordConfirm').invalid && (this.userForm.get('passwordConfirm').touched || this.userForm.get('passwordConfirm').dirty )">
          <div *ngIf="this.userForm.get('passwordConfirm').errors.required" >{{messageValidate.passwordConfirm.required}}</div>
          <div *ngIf="this.userForm.get('passwordConfirm').errors.minlength">{{messageValidate.passwordConfirm.minLength}}</div>

        </div>
        <div class="text-danger" *ngIf="isPasswordMatch()">{{messageValidate.passwordConfirm.isMatch}}</div>


      </div>

      <button type="submit" class="btn btn-primary" [disabled]="!userForm.valid || isPasswordMatch() || isUserNameExist() || isEmailExist()">Submit</button>
      <div class="alert alert-primary mt-3" role="alert">
        <strong>nom d'utilisateur</strong>{{this.userForm.get('userName').value }}
      </div>
      <div class="alert alert-info  mt-3" role="alert">
        <strong>nom d'utilisateur</strong>{{this.userForm.get('userName').valid }}
      </div>
      <div class="alert alert-danger  mt-3" role="alert">
        <strong>touch</strong>{{this.userForm.get('userName').touched }}
      </div>

    </form>
  </div>
  </div>
  <div class="btn-login mt-3">
     I have an account <a href="login"  >Login</a>

  </div>
</div>